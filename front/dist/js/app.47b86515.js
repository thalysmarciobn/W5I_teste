(function(){"use strict";var a={3504:function(a,t,o){var e=o(9242),r=o(3396);const n={class:"navbar navbar-expand-lg navbar-light bg-light"},l=(0,r._)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,r._)("span",{class:"navbar-toggler-icon"})],-1),s={class:"collapse navbar-collapse",id:"navbarNav"},c={class:"navbar-nav"},i={class:"nav-item"},d={class:"nav-item"},u={class:"container"};function p(a,t,o,e,p,m){const f=(0,r.up)("router-link"),h=(0,r.up)("notifications"),g=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("nav",n,[(0,r.Wm)(f,{class:"navbar-brand",to:"/"},{default:(0,r.w5)((()=>[(0,r.Uk)("Carros")])),_:1}),l,(0,r._)("div",s,[(0,r._)("ul",c,[(0,r._)("li",i,[(0,r.Wm)(f,{class:"nav-link",to:"/estacionamento"},{default:(0,r.w5)((()=>[(0,r.Uk)("Estacionamento")])),_:1})]),(0,r._)("li",d,[(0,r.Wm)(f,{class:"nav-link",to:"/categorias"},{default:(0,r.w5)((()=>[(0,r.Uk)("Categorias")])),_:1})])])])]),(0,r.Wm)(h,{position:"top center"}),(0,r._)("div",u,[(0,r.Wm)(g)])],64)}var m=o(65),f={created(){this.$store.dispatch("loadCarros"),this.$store.dispatch("loadCategorias")},computed:(0,m.rn)(["carros"])},h=o(89);const g=(0,h.Z)(f,[["render",p]]);var _=g,b=o(2483),v=o(7139);const w={class:"row"},y={class:"col-md-12"},C={class:"form-row"},$={class:"form-group col-md-4"},D=(0,r._)("label",{for:"inputEmail4"},"Placa",-1),k={class:"form-group col-md-4"},S=(0,r._)("label",{for:"inputCor"},"Cor",-1),x={class:"form-group col-md-4"},E=(0,r._)("label",{for:"inputState"},"Categória",-1),V=["value"],M=(0,r._)("button",{type:"submit",class:"btn btn-primary"},"Registrar Veículo",-1),P={class:"col-md-12"},O={class:"table-wrap"},z={class:"table table-striped"},T=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Placa"),(0,r._)("th",null,"Cor"),(0,r._)("th",null,"Categoria")])],-1),Z={scope:"row"};function U(a,t,o,n,l,s){return(0,r.wg)(),(0,r.iD)("div",w,[(0,r._)("div",y,[(0,r._)("form",{onSubmit:t[3]||(t[3]=(0,e.iM)(((...a)=>s.cadastrar&&s.cadastrar(...a)),["prevent"]))},[(0,r._)("div",C,[(0,r._)("div",$,[D,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"inputPlaca",placeholder:"0000-0000","onUpdate:modelValue":t[0]||(t[0]=a=>l.cadastro.placa=a),required:""},null,512),[[e.nr,l.cadastro.placa]])]),(0,r._)("div",k,[S,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"inputCor",placeholder:"Cor","onUpdate:modelValue":t[1]||(t[1]=a=>l.cadastro.cor=a),required:""},null,512),[[e.nr,l.cadastro.cor]])]),(0,r._)("div",x,[E,(0,r.wy)((0,r._)("select",{id:"inputState",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=a=>l.cadastro.categoria=a)},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.categorias,((a,t)=>((0,r.wg)(),(0,r.iD)("option",{key:t,value:a.id},(0,v.zw)(a.nome),9,V)))),128))],512),[[e.bM,l.cadastro.categoria]])])]),M],32)]),(0,r._)("div",P,[(0,r._)("div",O,[(0,r._)("table",z,[T,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.carros,((a,t)=>((0,r.wg)(),(0,r.iD)("tr",{key:t},[(0,r._)("th",Z,(0,v.zw)(a.placa),1),(0,r._)("td",null,(0,v.zw)(a.cor),1),(0,r._)("td",null,(0,v.zw)(a.categoria.nome),1)])))),128))])])])])])}var F=o(4161),H={name:"HomePage",components:{},created(){this.$store.dispatch("loadCarros"),this.$store.dispatch("loadCategorias")},data(){return{rows:[],columns:[{label:"name",field:"name",filterOptions:{enabled:!0,customFilter:!0,formatValue:this.formatFilterValue}}],cadastro:{placa:"",cor:"",categoria:0}}},computed:(0,m.rn)(["carros","categorias"]),methods:{cadastrar(){const a=new FormData;a.append("placa",this.cadastro.placa),a.append("cor",this.cadastro.cor),a.append("categoria",this.cadastro.categoria),F.Z.post("http://localhost:8000/api/carros/cadastrar",a).then((a=>{200==a.data.code&&this.$store.dispatch("loadCarros")}))},timeSince(a){const t=new Date(this.dateTime),o=Math.floor((t-new Date(a))/1e3),e=[{label:"ano",seconds:31536e3},{label:"mês",seconds:2592e3},{label:"dia",seconds:86400},{label:"hora",seconds:3600},{label:"minuto",seconds:60},{label:"segundo",seconds:1}];for(const r of e){const a=Math.floor(o/r.seconds);if(a>1)return`${a} ${r.label}${a>1?"s":""}`}}}};const j=(0,h.Z)(H,[["render",U]]);var N=j;const Y={class:"row"},q={class:"col-md-12"},W={class:"form-row"},K={class:"form-group col-md-6"},R=(0,r._)("label",{for:"inputNome"},"Nome",-1),A={class:"form-group col-md-6"},B=(0,r._)("label",{for:"inputTaxa"},"Taxa",-1),G=(0,r._)("button",{type:"submit",class:"btn btn-primary"},"Cadastrar",-1),I={class:"col-md-12"},J={class:"table-wrap"},L={class:"table table-striped"},Q=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Categória"),(0,r._)("th",null,"Taxa"),(0,r._)("th",null,"Carros"),(0,r._)("th")])],-1),X={scope:"row"},aa=["onClick","disabled"];function ta(a,t,o,n,l,s){return(0,r.wg)(),(0,r.iD)("div",Y,[(0,r._)("div",q,[(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,e.iM)(((...a)=>s.cadastrar&&s.cadastrar(...a)),["prevent"]))},[(0,r._)("div",W,[(0,r._)("div",K,[R,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"inputNome",placeholder:"","onUpdate:modelValue":t[0]||(t[0]=a=>l.cadastro.nome=a),required:""},null,512),[[e.nr,l.cadastro.nome]])]),(0,r._)("div",A,[B,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"inputTaxa",placeholder:"1.0","onUpdate:modelValue":t[1]||(t[1]=a=>l.cadastro.taxa=a),required:""},null,512),[[e.nr,l.cadastro.taxa]])])]),G],32)]),(0,r._)("div",I,[(0,r._)("div",J,[(0,r._)("table",L,[Q,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.categorias,((a,t)=>((0,r.wg)(),(0,r.iD)("tr",{key:t},[(0,r._)("th",X,(0,v.zw)(a.nome),1),(0,r._)("td",null,(0,v.zw)(a.taxa),1),(0,r._)("td",null,(0,v.zw)(a.numero_carros),1),(0,r._)("td",null,[(0,r._)("button",{onClick:t=>s.deleteCategoria(a.id),class:"btn btn-danger",disabled:a.numero_carros>0},"Remover",8,aa)])])))),128))])])])])])}var oa={name:"CategoriaPage",components:{},created(){this.$store.dispatch("loadCategorias")},data(){return{cadastro:{nome:"",taxa:1}}},computed:(0,m.rn)(["categorias"]),methods:{cadastrar(){const a=new FormData;a.append("nome",this.cadastro.nome),a.append("taxa",this.cadastro.taxa),F.Z.post("http://localhost:8000/api/categorias/cadastrar",a).then((a=>{200==a.data.code&&this.$store.dispatch("loadCategorias")}))},deleteCategoria(a){F.Z["delete"](`http://localhost:8000/api/categorias/remover?id=${a}`).then((a=>{200==a.data.code&&this.$store.dispatch("loadCategorias")}))}}};const ea=(0,h.Z)(oa,[["render",ta]]);var ra=ea;const na={class:"row"},la={class:"col-md-12"},sa={class:"form-row"},ca={class:"form-group col-md-4"},ia=(0,r._)("label",{for:"inputEmail4"},"Placa",-1),da={class:"form-group col-md-4"},ua=(0,r._)("label",{for:"inputCor"},"Data",-1),pa=["min"],ma={class:"form-group col-md-4"},fa=(0,r._)("label",{for:"inputState"},"Ação",-1),ha=(0,r._)("option",{value:"0",selected:""},"Entrada",-1),ga=(0,r._)("option",{value:"1"},"Saída",-1),_a=[ha,ga],ba=(0,r._)("button",{type:"submit",class:"btn btn-primary"},"Enviar",-1),va={class:"col-md-12"},wa={class:"table-wrap"},ya={class:"table table-striped"},Ca=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Placa"),(0,r._)("th",null,"Categoria"),(0,r._)("th",null,"Entrada"),(0,r._)("th",null,"Saída"),(0,r._)("th",null,"Valor a Pagar"),(0,r._)("th",null,"No Estacionamento")])],-1),$a={scope:"row"};function Da(a,t,o,n,l,s){return(0,r.wg)(),(0,r.iD)("div",na,[(0,r._)("div",la,[(0,r._)("form",{onSubmit:t[3]||(t[3]=(0,e.iM)(((...a)=>s.enviar&&s.enviar(...a)),["prevent"]))},[(0,r._)("div",sa,[(0,r._)("div",ca,[ia,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"inputPlaca",placeholder:"0000-0000","onUpdate:modelValue":t[0]||(t[0]=a=>l.form.placa=a),required:""},null,512),[[e.nr,l.form.placa]])]),(0,r._)("div",da,[ua,(0,r.wy)((0,r._)("input",{class:"form-control",type:"datetime-local",id:"meeting-time",name:"meeting-time","onUpdate:modelValue":t[1]||(t[1]=a=>l.form.data=a),min:s.getCurrentDateTime()},null,8,pa),[[e.nr,l.form.data]])]),(0,r._)("div",ma,[fa,(0,r.wy)((0,r._)("select",{id:"inputState",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=a=>l.form.park=a)},_a,512),[[e.bM,l.form.park]])])]),ba],32)]),(0,r._)("div",va,[(0,r._)("div",wa,[(0,r._)("table",ya,[Ca,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.estacionamento,((a,t)=>((0,r.wg)(),(0,r.iD)("tr",{key:t},[(0,r._)("th",$a,(0,v.zw)(a.carro.placa),1),(0,r._)("td",null,(0,v.zw)(a.carro.categoria.nome),1),(0,r._)("td",null,(0,v.zw)(s.formatarData(a.entrada)),1),(0,r._)("td",null,(0,v.zw)(s.formatarData(a.saida)),1),(0,r._)("td",null,(0,v.zw)(a.valor),1),(0,r._)("td",null,(0,v.zw)(a.park),1)])))),128))])])])])])}var ka={name:"EstacionamentoPage",components:{},created(){this.$store.dispatch("loadEstacionamento")},data(){return{rows:[],columns:[{label:"name",field:"name",filterOptions:{enabled:!0,customFilter:!0,formatValue:this.formatFilterValue}}],form:{placa:"",data:"",park:0}}},computed:(0,m.rn)(["estacionamento"]),methods:{enviar(){const a=new FormData;a.append("placa",this.form.placa),a.append("data",this.form.data),a.append("park",this.form.park),F.Z.post("http://localhost:8000/api/estacionamento/enviar",a).then((a=>{if(200==a.data.code){let t;switch(this.$store.dispatch("loadEstacionamento"),a.data.op){case 1:t=`Entrada com Sucesso ao Veículo ${this.form.placa}`;break;case 2:t=`Saída com Sucesso ao Veículo ${this.form.placa}`;break;case 3:t=`O Veículo ${this.form.placa} já Possui uma Entrada`;break;case 4:t=`É necessário o Veículo ${this.form.placa} Possuir uma Entrada`;break}this.$notify(t)}else 404==a.data.code&&this.$notify("Veículo não Encontrado")}))},formatarData(a){let t=new Date(a),o=t.getDate(),e=t.getMonth()+1,r=t.getFullYear(),n=t.getHours().toString().padStart(2,"0"),l=t.getMinutes().toString().padStart(2,"0");return`${o}/${e}/${r} ${n}:${l}`},getCurrentDateTime(){const a=new Date,t=a.getFullYear(),o=(a.getMonth()+1).toString().padStart(2,"0"),e=a.getDate().toString().padStart(2,"0"),r=a.getHours().toString().padStart(2,"0"),n=a.getMinutes().toString().padStart(2,"0");return`${t}-${o}-${e}T${r}:${n}`},timeSince(a){const t=new Date,o=Math.floor((t-new Date(a))/1e3),e=[{label:"ano",seconds:31536e3},{label:"mês",seconds:2592e3},{label:"dia",seconds:86400},{label:"hora",seconds:3600},{label:"minuto",seconds:60},{label:"segundo",seconds:1}];for(const r of e){const a=Math.floor(o/r.seconds);if(a>1)return`${a} ${r.label}${a>1?"s":""}`}}}};const Sa=(0,h.Z)(ka,[["render",Da]]);var xa=Sa;const Ea=[{path:"/",name:"Home",component:N},{path:"/categorias",name:"Categorias",component:ra},{path:"/estacionamento",name:"Estacionamento",component:xa}],Va=(0,b.p7)({history:(0,b.r5)(),routes:Ea});var Ma=Va,Pa=(0,m.MT)({state:{carros:[],categorias:[],estacionamento:[]},mutations:{loadCarros(a,t){a.carros=t},loadCategorias(a,t){a.categorias=t},loadEstacionamento(a,t){a.estacionamento=t}},actions:{loadCarros({commit:a}){F.Z.get("http://localhost:8000/api/carros/lista").then((t=>{a("loadCarros",t.data)}))},loadCategorias({commit:a}){F.Z.get("http://localhost:8000/api/categorias/lista").then((t=>{a("loadCategorias",t.data)}))},loadEstacionamento({commit:a}){F.Z.get("http://localhost:8000/api/estacionamento/lista").then((t=>{a("loadEstacionamento",t.data)}))}},modules:{}}),Oa=o(1037);(0,e.ri)(_).use(Pa).use(Ma).use(Oa.ZP).mount("#app")}},t={};function o(e){var r=t[e];if(void 0!==r)return r.exports;var n=t[e]={exports:{}};return a[e].call(n.exports,n,n.exports,o),n.exports}o.m=a,function(){var a=[];o.O=function(t,e,r,n){if(!e){var l=1/0;for(d=0;d<a.length;d++){e=a[d][0],r=a[d][1],n=a[d][2];for(var s=!0,c=0;c<e.length;c++)(!1&n||l>=n)&&Object.keys(o.O).every((function(a){return o.O[a](e[c])}))?e.splice(c--,1):(s=!1,n<l&&(l=n));if(s){a.splice(d--,1);var i=r();void 0!==i&&(t=i)}}return t}n=n||0;for(var d=a.length;d>0&&a[d-1][2]>n;d--)a[d]=a[d-1];a[d]=[e,r,n]}}(),function(){o.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return o.d(t,{a:t}),t}}(),function(){o.d=function(a,t){for(var e in t)o.o(t,e)&&!o.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){o.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){var a={143:0};o.O.j=function(t){return 0===a[t]};var t=function(t,e){var r,n,l=e[0],s=e[1],c=e[2],i=0;if(l.some((function(t){return 0!==a[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var d=c(o)}for(t&&t(e);i<l.length;i++)n=l[i],o.o(a,n)&&a[n]&&a[n][0](),a[n]=0;return o.O(d)},e=self["webpackChunkfront"]=self["webpackChunkfront"]||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var e=o.O(void 0,[998],(function(){return o(3504)}));e=o.O(e)})();
//# sourceMappingURL=app.47b86515.js.map